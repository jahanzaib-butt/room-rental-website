{% extends 'main.html' %}
{% block content %}
<style>
    .container {
        display: grid;
        grid-template-columns: 1fr 3fr; /* Adjusted column sizes */
    }
    .sidebar {
        padding: 20px; /* Add some padding */
        border-right: 1px solid #ccc; /* Optional: Add a border for separation */
    }
    .rooms {
        padding: 20px; /* Add some padding */
    }
    .room-image {
        width: 300px;  /* Set a fixed width */
        height: 200px; /* Set a fixed height */
        object-fit: cover; /* Maintain aspect ratio and cover the area */
        border-radius: 8px; /* Optional: add rounded corners */
    }
</style>
<div class="container">
    <div class="sidebar">
        <a href="{% url 'create_room' %}"><h3>Create Room</h3></a>
        
        <div>
            <hr>
            <b><h2>Browse by category</h2></b>
            <hr>
            <a href="{% url 'home' %}"><h3>All</h3></a>
            {% for category in categories %}
                <h3><a href="{% url 'home' %}?q={{ category }}">{{ category }}</a></h3>
            {% endfor %}
        </div>
    </div>

    <div class="rooms">
        <small>{{ room_count }} rooms available</small><hr>
        
        {% for room in rooms %}
            <h2>
                <a href="{% url 'room' room.id %}">{{ room.title }}</a>
                {% if user.is_authenticated and user.id == room.owner.id %}
                <a href="{% url 'room_delete' room.id %}"><button type="submit">Delete</button></a>
                <a href="{% url 'room_edit' room.id %}"><button type="submit">Edit</button></a>
                {% endif %}
            </h2>
            <!-- Display the room image if it exists -->
            {% if room.image %}
                <img src="{{ room.image.url }}" alt="{{ room.title }}" class="room-image">  <!-- Add class for styling -->
            {% endif %}
            <!-- Owner's username as a link to their profile -->
            <p>Created by: <a href="{% url 'profile' room.owner.id %}">{{ room.owner.username }}</a></p>
            <br>
            <b>Location:</b> <small>{{room.area}} ,{{room.city}}</small><br>
            <b>Beds: {{ room.beds }}</b>
            <b>Baths: {{ room.baths }}</b>
            <hr> 
        {% endfor %}

    </div>
</div>
{% endblock %}