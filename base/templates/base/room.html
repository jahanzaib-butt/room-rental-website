{% extends 'main.html' %}
{% block content %}
<style>
  .room-image {
    width: 100%;  /* Set to 100% of the container */
    max-width: 600px; /* Set a maximum width */
    height: auto; /* Maintain aspect ratio */
    border-radius: 8px; /* Optional: add rounded corners */
  }
</style>
<div>
  <h1>{{room.title}}</h1>
  {% if room.image %}  <!-- Display current image if it exists -->
    <h3>Room Image:</h3>
    <img src="{{ room.image.url }}" alt="{{ room.title }}" class="room-image"><br>  <!-- Add class for styling -->
  {% endif %}<br>
  {% if room.images.all %}
        <h3>Room Images:</h3>
        {% for image in room.images.all %}
            <img src="{{ image.image.url }}" alt="{{ room.title }}" class="room-image"><br>
        {% endfor %}
    {% endif %}
    
    <h1>Info</h1><hr>

  <span style="white-space: nowrap;">Catagory:{{room.catagory}}</span>
  <h4>Description:</h4><small><p>{{room.description}}</p></small>
  <h4>Phone No:</h4><small><p>{{room.phone}}</p></small>
  <h4>Address:</h4><small>{{room.address}}</small>
  <small>,{{room.city}}</small>
  <h1>Conversation</h1><hr>
</div>

<div>  
  <div id="messages">
    {% for message in room.messages.all %}
      <p><strong>{{ message.user.username }}:</strong> {{ message.text }}</p>  <!-- Display username -->
    {% endfor %}
  </div>

  <form method="POST" action="{% url 'send_message' room.id %}">
    {% csrf_token %}
    <textarea name="message" required></textarea>
    <button type="submit">Send</button>
  </form>
</div>
{% endblock %}




